# 개선일지: 스케줄 생성 알고리즘 최적화 및 MRV 휴리스틱 도입

## 1. 개요
배정될 확률이 낮은 슬롯에 먼저 배정을 시도하여 탐색 트리를 조기에 가지치기(Pruning)함. 이는 스케줄링 실패를 줄이는 방향으로 탐색 트리의 깊이를 줄여 성능을 향상시킴.

## 2. 기존 문제점 (As-Is)
- **비효율적 탐색**: 모든 신청 내역을 순차적으로 탐색하여 불필요한 재귀 호출이 발생함.
- **제약 조건 부재**: 한 사람이 같은 날 여러 근무지에 배정되는 등 실무상 불가능한 스케줄이 생성될 위험이 있음.

## 3. 개선 내용 (To-Be)
- **수요 기반 가지치기**: 전체 신청 내역이 아닌, 채워야 할 '슬롯'의 부족한 정도를 우선순위로 탐색 구조를 변경하여 불필요한 경로를 사전에 차단함.
- **실무 제약 조건 통합**: 동일 유저의 하루 중복 배정 방지 로직을 최적화된 상태 관리(`Set`)를 통해 O(1) 시간에 수행하도록 구현함.


## 4. 성능 비교 결과
현실적인 알바 규모(1주일, 3개 교대조, 20명 신청)에서의 지연 시간 측정 결과:

| 지표 | As-Is (기존) | **To-Be (개선)** | **개선율** |
| :--- | :--- | :--- | :--- |
| **P50 (중위값)** | 10.340 ms | **0.203 ms** | **약 50.9배 향상** |
| **P95 (상위 5%)** | 47.329 ms | **4.981 ms** | **약 9.5배 향상** |
| **P99 (상위 1%)** | 75.760 ms | **9.658 ms** | **약 7.8배 향상** |
